---
repository:
  name: docenteia
  owner: unknown
  url: ""
generated:
  timestamp: 2025-07-29T20:18:10.861Z
  tool: FlatRepo
statistics:
  totalFiles: 28
  totalLines: 1728
  languages:
    json: 5
    markdown: 2
    javascript: 4
    typescript: 10
    tsx: 4
    css: 1
  fileTypes:
    .json: 5
    .md: 2
    .js: 4
    .mjs: 1
    .example: 1
    .ts: 10
    .tsx: 4
    .css: 1
---

===  tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "forceConsistentCasingInFileNames": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```
=== EOF: tsconfig.json

===  TECHNICAL_DOCS.md
```markdown
# Documentaci√≥n T√©cnica - DocenteIA

## Arquitectura del Sistema

### Stack Tecnol√≥gico
- **Framework**: Next.js 15 con App Router
- **Lenguaje**: TypeScript 5.x
- **Estilos**: Tailwind CSS 4.x
- **Linting**: ESLint con reglas estrictas
- **Build**: SWC (Rust-based compiler)

### Estructura de Carpetas
```
src/
‚îú‚îÄ‚îÄ app/                    # App Router (Next.js 15)
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Layout principal
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # P√°gina principal
‚îÇ   ‚îî‚îÄ‚îÄ globals.css        # Estilos globales
‚îú‚îÄ‚îÄ components/             # Componentes reutilizables
‚îÇ   ‚îî‚îÄ‚îÄ ui/                # Componentes de UI base
‚îú‚îÄ‚îÄ lib/                   # Utilidades y helpers
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts           # Funciones utilitarias
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts       # Constantes del sistema
‚îÇ   ‚îî‚îÄ‚îÄ config.ts          # Configuraci√≥n centralizada
‚îî‚îÄ‚îÄ types/                 # Tipos TypeScript
    ‚îî‚îÄ‚îÄ global.d.ts        # Tipos globales
```

## Configuraciones Clave

### TypeScript (tsconfig.json)
- **Target**: ES2022 para mejor rendimiento
- **Strict Mode**: Habilitado completamente
- **No Unused**: Variables y par√°metros no utilizados
- **No Implicit Returns**: Requiere returns expl√≠citos
- **Force Consistent Casing**: Consistencia en nombres de archivos

### ESLint (eslint.config.mjs)
- **Next.js Core Web Vitals**: Optimizaci√≥n de rendimiento
- **TypeScript Rules**: Verificaciones estrictas
- **No Unused Variables**: Error para variables no utilizadas
- **No Explicit Any**: Advertencia para tipos `any`
- **Prefer Const**: Forzar uso de `const`

### Next.js (next.config.ts)
- **React Strict Mode**: Detecci√≥n de efectos secundarios
- **Optimize Package Imports**: Optimizaci√≥n de imports
- **Modern Image Formats**: WebP y AVIF
- **Console Removal**: Eliminar console.log en producci√≥n

## Componentes del Sistema

### Button Component
```typescript
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';
  size?: 'default' | 'sm' | 'lg' | 'icon';
}
```

**Caracter√≠sticas**:
- Variantes m√∫ltiples con `class-variance-authority`
- Tipos estrictos de TypeScript
- Accesibilidad integrada
- Reutilizable y extensible

### Utilidades (lib/utils.ts)
```typescript
// Combinaci√≥n de clases CSS
cn("class1", "class2")

// Formateo de fechas
formatDate(new Date())

// Generaci√≥n de IDs √∫nicos
generateId()
```

## Optimizaciones de Rendimiento

### Build Optimizations
- **SWC Compiler**: Compilaci√≥n r√°pida en Rust
- **Tree Shaking**: Eliminaci√≥n de c√≥digo no utilizado
- **Code Splitting**: Divisi√≥n autom√°tica de bundles
- **Image Optimization**: Formatos modernos (WebP, AVIF)

### Runtime Optimizations
- **React Strict Mode**: Detecci√≥n de problemas
- **Turbopack**: Bundler r√°pido en desarrollo
- **Incremental Static Regeneration**: P√°ginas est√°ticas din√°micas

## Seguridad

### TypeScript Strict Mode
- Verificaci√≥n de tipos en tiempo de compilaci√≥n
- Prevenci√≥n de errores de runtime
- Mejor autocompletado y refactoring

### ESLint Security Rules
- Detecci√≥n de c√≥digo vulnerable
- Prevenci√≥n de XSS
- Buenas pr√°cticas de seguridad

## Escalabilidad

### Estructura Modular
- Componentes reutilizables
- Utilidades centralizadas
- Configuraci√≥n tipada
- Separaci√≥n de responsabilidades

### Configuraci√≥n Flexible
- Variables de entorno tipadas
- Configuraci√≥n centralizada
- Constantes organizadas
- Tipos exportables

## Mantenimiento

### C√≥digo Limpio
- ESLint con reglas estrictas
- TypeScript con verificaciones exhaustivas
- Documentaci√≥n integrada
- Convenciones consistentes

### Testing Ready
- Estructura preparada para tests
- Componentes aislados
- Utilidades testables
- Configuraci√≥n de testing

## Despliegue

### Optimizaciones de Producci√≥n
- Minificaci√≥n autom√°tica
- Compresi√≥n de assets
- CDN ready
- PWA compatible

### Monitoreo
- Error boundaries preparados
- Analytics integrado
- Performance monitoring
- Logging estructurado 
```
=== EOF: TECHNICAL_DOCS.md

===  tailwind.config.js
```javascript
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
    },
  },
  plugins: [],
} 
```
=== EOF: tailwind.config.js

===  README.md
```markdown
# DocenteIA - Sistema Estable con Next.js y TypeScript

Un sistema robusto y estable construido con Next.js 15, TypeScript estricto y Tailwind CSS.

## üöÄ Caracter√≠sticas

- **Next.js 15**: La versi√≥n m√°s reciente con App Router
- **TypeScript Estricto**: Configuraci√≥n robusta con verificaciones exhaustivas
- **Tailwind CSS 4**: Estilos modernos y optimizados
- **ESLint Configurado**: Reglas estrictas para c√≥digo limpio
- **Componentes Reutilizables**: Sistema de componentes con TypeScript
- **Utilidades Optimizadas**: Funciones helper para desarrollo eficiente
- **OpenAI Integrado**: Chat inteligente con GPT-3.5-turbo
- **API Routes Seguras**: Endpoints protegidos para comunicaci√≥n con IA

## üì¶ Instalaci√≥n

```bash
# Clonar el repositorio
git clone <tu-repositorio>
cd docenteia

# Instalar dependencias
npm install

# Configurar variables de entorno
cp env.example .env.local
# Editar .env.local y agregar tu OPENAI_API_KEY

# Ejecutar en desarrollo
npm run dev
```

## üõ†Ô∏è Scripts Disponibles

```bash
npm run dev          # Servidor de desarrollo
npm run build        # Construcci√≥n para producci√≥n
npm run start        # Servidor de producci√≥n
npm run lint         # Verificaci√≥n de c√≥digo con ESLint
npm run chat         # Chat terminal con IA y vector store
```

## üèóÔ∏è Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ app/                 # App Router de Next.js
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx      # Layout principal
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx        # P√°gina principal
‚îÇ   ‚îî‚îÄ‚îÄ globals.css     # Estilos globales
‚îú‚îÄ‚îÄ components/          # Componentes reutilizables
‚îÇ   ‚îî‚îÄ‚îÄ ui/             # Componentes de UI
‚îÇ       ‚îî‚îÄ‚îÄ Button.tsx  # Componente Button
‚îú‚îÄ‚îÄ lib/                # Utilidades y helpers
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts        # Funciones utilitarias
‚îÇ   ‚îú‚îÄ‚îÄ openai.ts       # Configuraci√≥n de OpenAI
‚îÇ   ‚îú‚îÄ‚îÄ vector-store.ts # Configuraci√≥n de vector store
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts    # Constantes del sistema
‚îÇ   ‚îî‚îÄ‚îÄ config.ts       # Configuraci√≥n centralizada
‚îú‚îÄ‚îÄ components/         # Componentes reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ ui/            # Componentes de UI
‚îÇ   ‚îî‚îÄ‚îÄ ChatInterface.tsx # Chat con IA
‚îî‚îÄ‚îÄ types/              # Tipos TypeScript
    ‚îî‚îÄ‚îÄ global.d.ts     # Tipos globales
```

## ‚öôÔ∏è Configuraciones

### TypeScript
- Target: ES2022
- Strict mode habilitado
- Verificaciones estrictas de tipos
- No unused locals/parameters

### ESLint
- Reglas estrictas para TypeScript
- Prevenci√≥n de c√≥digo no utilizado
- Advertencias para `any` types

### Next.js
- React Strict Mode
- SWC Minify
- Optimizaci√≥n de imports
- Soporte para im√°genes modernas

## üé® Componentes

### Button Component
Componente reutilizable con m√∫ltiples variantes:

```tsx
import { Button } from "@/components/ui/Button";

<Button variant="default" size="lg">
  Comenzar
</Button>
```

### ChatInterface Component
Chat inteligente con OpenAI:

```tsx
import { ChatInterface } from "@/components/ChatInterface";

<ChatInterface />
```

## üíª Chat Terminal

```bash
npm run chat
```

**Comandos disponibles:**
- `/help` - Mostrar ayuda
- `/history` - Mostrar historial
- `/clear` - Limpiar historial
- `/vector <consulta>` - Consultar vector store
- `/search <consulta>` - Buscar documentos en vector store
- `/exit` - Salir del chat

**‚ö†Ô∏è Importante:** Para usar el vector store, necesitas tener el servidor corriendo:
```bash
# Terminal 1: Iniciar servidor
npm run dev

# Terminal 2: Ejecutar chat
npm run chat
```

## üìù Utilidades

### Funciones Helper
```tsx
import { cn, formatDate, generateId } from "@/lib/utils";

// Combinar clases CSS
cn("class1", "class2")

// Formatear fechas
formatDate(new Date())

// Generar IDs √∫nicos
generateId()
```

### Funciones de OpenAI
```tsx
import { sendChatMessage, generateText, analyzeSentiment } from "@/lib/openai";

// Enviar mensaje a ChatGPT
const response = await sendChatMessage(messages, 'gpt-3.5-turbo');

// Generar texto
const text = await generateText("Escribe un poema sobre la tecnolog√≠a");

// Analizar sentimiento
const sentiment = await analyzeSentiment("Me encanta este producto!");
```

## üîß Desarrollo

### Agregar Nuevos Componentes
1. Crear en `src/components/ui/`
2. Usar TypeScript estricto
3. Implementar variantes con `class-variance-authority`
4. Exportar tipos de props

### Agregar Utilidades
1. Crear en `src/lib/`
2. Documentar con JSDoc
3. Exportar tipos TypeScript

## üöÄ Despliegue

El proyecto est√° optimizado para despliegue en Vercel:

```bash
npm run build
```

## üìÑ Licencia

MIT License - ver archivo LICENSE para detalles.

## ü§ù Contribuir

1. Fork el proyecto
2. Crear una rama feature (`git checkout -b feature/AmazingFeature`)
3. Commit los cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abrir un Pull Request

## üìû Soporte

Para soporte t√©cnico, contacta al equipo de desarrollo.
```
=== EOF: README.md

===  postcss.config.js
```javascript
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};
```
=== EOF: postcss.config.js

===  package.json
```json
{
  "name": "docenteia",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "chat": "node src/scripts/terminal-chat.js"
  },
  "dependencies": {
    "@openai/agents": "^0.0.13",
    "autoprefixer": "^10.4.21",
    "axios": "^1.11.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "dotenv": "^17.2.1",
    "lucide-react": "^0.532.0",
    "next": "^14.2.0",
    "openai": "^5.10.2",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "tailwind-merge": "^3.3.1",
    "tailwindcss": "^3.4.17"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@types/node": "^20.19.9",
    "@types/react": "^19.1.8",
    "@types/react-dom": "^19.1.6",
    "eslint": "^9",
    "eslint-config-next": "15.4.4",
    "flatrepo": "^1.2.0",
    "typescript": "^5"
  }
}
```
=== EOF: package.json

===  next.config.js
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  experimental: {
    optimizePackageImports: ["lucide-react"],
  },
  images: {
    formats: ["image/webp", "image/avif"],
  },
  compiler: {
    removeConsole: process.env.NODE_ENV === "production",
  },
};

module.exports = nextConfig;
```
=== EOF: next.config.js

===  eslint.config.mjs
```
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends("next/core-web-vitals", "next/typescript"),
  {
    rules: {
      "@typescript-eslint/no-unused-vars": "error",
      "@typescript-eslint/no-explicit-any": "warn",
      "prefer-const": "error",
      "no-var": "error",
      "no-console": "warn",
    },
  },
];

export default eslintConfig;
```
=== EOF: eslint.config.mjs

===  env.example
```
# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here

# App Configuration
NEXT_PUBLIC_APP_NAME=DocenteIA
NEXT_PUBLIC_APP_VERSION=1.0.0

# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:3000/api 
```
=== EOF: env.example

===  src\types\global.d.ts
```typescript
declare global {
  interface Window {
    __NEXT_DATA__: unknown;
  }
}

export interface BaseComponentProps {
  className?: string;
  children?: React.ReactNode;
}

export interface ApiResponse<T = unknown> {
  success: boolean;
  data?: T;
  error?: string;
  message?: string;
}

export interface PaginatedResponse<T> extends ApiResponse<T[]> {
  pagination: {
    page: number;
    limit: number;
    total: number;
    totalPages: number;
  };
} 
```
=== EOF: src\types\global.d.ts

===  src\scripts\terminal-chat.js
```javascript
#!/usr/bin/env node

const readline = require('readline');
const axios = require('axios');
const fs = require('fs');
const path = require('path');

// Configurar readline
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
});

// Colores simples
const colors = {
  reset: '\x1b[0m',
  green: '\x1b[32m',
  yellow: '\x1b[33m',
  red: '\x1b[31m',
  cyan: '\x1b[36m',
};

function print(color, text) {
  console.log(`${colors[color]}${text}${colors.reset}`);
}

// Funci√≥n para consultar OpenAI
async function queryVectorStore(query) {
  try {
    print('yellow', 'üîç Consultando OpenAI...');
    
    const response = await axios.post('http://localhost:3000/api/openai-vector', {
      query,
    }, {
      headers: {
        'Content-Type': 'application/json',
      },
    });

    print('green', '\nü§ñ Respuesta:');
    console.log(response.data.response);
    console.log('');
    
  } catch (error) {
    if (error.code === 'ECONNREFUSED') {
      print('red', '‚ùå Error: El servidor Next.js no est√° corriendo.');
      print('yellow', 'üí° Ejecuta: npm run dev');
    } else {
      print('red', `Error: ${error.message}`);
    }
  }
}

// Funci√≥n para mostrar sesiones disponibles
function showSessions() {
  print('cyan', '\nüéØ Sesiones Disponibles:');
  print('white', '1. sesion01 - IPERC (Identificaci√≥n de Peligros, Evaluaci√≥n de Riesgos y Controles)');
  print('white', '2. sesion02 - SSO General');
  print('white', '3. sesion03 - Prevenci√≥n de Incendios en el Trabajo');
  print('cyan', '\nüí° Usa: /select <n√∫mero> para seleccionar una sesi√≥n');
  print('cyan', '   Ejemplo: /select 1 para seleccionar sesion01\n');
}

// Variables globales
let currentSession = null;
let loadedMoments = null;
let isClassActive = false;

// Funci√≥n para seleccionar sesi√≥n
function selectSession(sessionNumber) {
  const sessions = [
    { id: 'sesion01', name: 'IPERC (Identificaci√≥n de Peligros, Evaluaci√≥n de Riesgos y Controles)' },
    { id: 'sesion02', name: 'SSO General' },
    { id: 'sesion03', name: 'Prevenci√≥n de Incendios en el Trabajo' }
  ];

  const sessionIndex = parseInt(sessionNumber) - 1;
  
  if (sessionIndex >= 0 && sessionIndex < sessions.length) {
    currentSession = sessions[sessionIndex];
    print('green', `‚úÖ Sesi√≥n seleccionada: ${currentSession.id}`);
    print('cyan', `üìö Tema: ${currentSession.name}`);
    print('yellow', 'üí° Usa /load para cargar todos los momentos de esta sesi√≥n\n');
    return currentSession;
  } else {
    print('red', '‚ùå N√∫mero de sesi√≥n inv√°lido. Usa n√∫meros del 1 al 3.\n');
    return null;
  }
}

// Funci√≥n para cargar todos los momentos de una sesi√≥n
async function loadAllMoments() {
  if (!currentSession) {
    print('red', '‚ùå No hay sesi√≥n seleccionada. Usa /select primero.\n');
    return;
  }

  print('yellow', `üîÑ Cargando todos los momentos de ${currentSession.id}...`);
  
  // Cargar gu√≠a de ense√±anza para obtener t√≠tulos precisos
  const teachingGuide = loadTeachingGuide();
  
  if (teachingGuide) {
    loadedMoments = teachingGuide.momentos.map(moment => ({
      id: moment.momento,
      title: moment.titulo
    }));
    print('green', `üìñ Usando gu√≠a de ense√±anza: ${teachingGuide.rol_docente_ia}`);
  } else {
    // Fallback a t√≠tulos b√°sicos si no se puede cargar la gu√≠a
    loadedMoments = [
      { id: 'MOMENTO_0', title: 'SALUDO Y ENCENDIDO DEL AULA' },
      { id: 'MOMENTO_1', title: 'CONEXI√ìN CON SABERES PREVIOS Y RELEVANCIA' },
      { id: 'MOMENTO_2', title: 'ADQUISICI√ìN DE CONOCIMIENTOS B√ÅSICOS' },
      { id: 'MOMENTO_3', title: 'APLICACI√ìN PR√ÅCTICA' },
      { id: 'MOMENTO_4', title: 'DISCUSI√ìN Y CONTRASTE' },
      { id: 'MOMENTO_5', title: 'REFLEXI√ìN FINAL Y CIERRE' }
    ];
  }

  print('cyan', '\nüìã Momentos disponibles:');
  loadedMoments.forEach((moment, index) => {
    print('white', `${index}. ${moment.id} - ${moment.title}`);
  });
  
  print('green', `\n‚úÖ Todos los momentos de ${currentSession.id} cargados exitosamente`);
  print('yellow', 'üí° Usa /start para comenzar la clase autom√°ticamente\n');
}

// Funci√≥n para cargar la gu√≠a de ense√±anza
function loadTeachingGuide() {
  try {
    const guidePath = path.join(__dirname, '../data/teaching-guide.json');
    const guideData = fs.readFileSync(guidePath, 'utf8');
    return JSON.parse(guideData);
  } catch {
    print('red', '‚ùå Error al cargar la gu√≠a de ense√±anza');
    return null;
  }
}

// Funci√≥n para generar prompt espec√≠fico de un momento
function generateMomentPrompt(momentoId, sessionContent, teachingGuide) {
  const moment = teachingGuide.momentos.find(m => m.momento === momentoId);
  if (!moment) {
    return `¬øQu√© dice el ${momentoId} del contenido ${sessionContent}?`;
  }

  const randomExample = moment.ejemplos[Math.floor(Math.random() * moment.ejemplos.length)];
  
  return `Act√∫a como un ${teachingGuide.rol_docente_ia} en modalidad ${teachingGuide.modalidad}.

${moment.titulo}: ${moment.descripcion}

Ejemplo de interacci√≥n: "${randomExample}"

Ahora, bas√°ndote en el contenido del ${momentoId} del archivo ${sessionContent}, desarrolla este momento de la clase de manera natural y pedag√≥gica. Incluye:
1. Una introducci√≥n al contenido espec√≠fico del momento
2. Preguntas interactivas basadas en el material
3. Ejemplos pr√°cticos relacionados
4. Verificaci√≥n de comprensi√≥n

Contenido a consultar: ¬øQu√© dice el ${momentoId} del contenido ${sessionContent}?`;
}

// Funci√≥n para comenzar la clase autom√°tica
async function startClass() {
  if (!currentSession) {
    print('red', '‚ùå No hay sesi√≥n seleccionada. Usa /select primero.\n');
    return;
  }

  if (!loadedMoments) {
    print('red', '‚ùå No hay momentos cargados. Usa /load primero.\n');
    return;
  }

  // Cargar gu√≠a de ense√±anza
  const teachingGuide = loadTeachingGuide();
  if (!teachingGuide) {
    print('red', '‚ùå No se pudo cargar la gu√≠a de ense√±anza. Continuando sin ella...\n');
  } else {
    print('green', `üìñ Gu√≠a de ense√±anza cargada: ${teachingGuide.rol_docente_ia}`);
  }

  isClassActive = true;
  print('green', `üéì ¬°Bienvenidos a la clase de ${currentSession.name}!`);
  print('cyan', 'üöÄ Iniciando clase autom√°tica con Docente-IA...\n');

  for (let i = 0; i < loadedMoments.length; i++) {
    if (!isClassActive) break; // Permitir pausar la clase
    
    const moment = loadedMoments[i];
    print('yellow', `\nüìö ${moment.id}: ${moment.title}`);
    print('cyan', 'üîÑ Docente-IA preparando el momento...');
    
    // Generar prompt espec√≠fico del momento
    const sessionContent = `contenido_sso_${currentSession.id}_MSEII`;
    const query = teachingGuide 
      ? generateMomentPrompt(moment.id, sessionContent, teachingGuide)
      : `¬øQu√© dice el ${moment.id} del contenido ${sessionContent}?`;
    
    await queryVectorStore(query);
    
    if (i < loadedMoments.length - 1) {
      print('yellow', '‚è∏Ô∏è  Presiona Enter para continuar al siguiente momento...');
      await new Promise(resolve => {
        rl.question('', () => resolve());
      });
    }
  }

  if (isClassActive) {
    print('green', '\nüéâ ¬°Clase completada exitosamente!');
    print('cyan', 'üìù Gracias por participar en la sesi√≥n.\n');
  }
  
  isClassActive = false;
}

// Funci√≥n para mostrar ayuda
function showHelp() {
  print('cyan', '\n=== COMANDOS ===');
  print('white', '/vector <consulta> - Consultar contenido del curso');
  print('white', '/sessions - Mostrar sesiones disponibles');
  print('white', '/select <n√∫mero> - Seleccionar sesi√≥n (1-3)');
  print('white', '/load - Cargar todos los momentos de la sesi√≥n seleccionada');
  print('white', '/start - Comenzar clase autom√°tica');
  print('white', '/help - Mostrar ayuda');
  print('white', '/exit - Salir');
  print('cyan', '================\n');
}

// Funci√≥n principal
async function startChat() {
  print('cyan', 'ü§ñ Chat Terminal - Docente-IA');
  print('yellow', 'Escribe /help para ver comandos\n');
  
  // Mostrar sesiones disponibles autom√°ticamente
  showSessions();

  const askQuestion = () => {
    rl.question(`${colors.green}üë§ T√∫: ${colors.reset}`, async (input) => {
      const trimmedInput = input.trim();

      if (trimmedInput === '') {
        askQuestion();
        return;
      }

      if (trimmedInput === '/exit') {
        print('yellow', '¬°Hasta luego! üëã');
        rl.close();
        return;
      }

      if (trimmedInput === '/help') {
        showHelp();
        askQuestion();
        return;
      }

      if (trimmedInput === '/sessions') {
        showSessions();
        askQuestion();
        return;
      }

      if (trimmedInput.startsWith('/select ')) {
        const sessionNumber = trimmedInput.substring(8);
        selectSession(sessionNumber);
        askQuestion();
        return;
      }

      if (trimmedInput === '/load') {
        await loadAllMoments();
        askQuestion();
        return;
      }

      if (trimmedInput === '/start') {
        await startClass();
        askQuestion();
        return;
      }

      if (trimmedInput.startsWith('/vector ')) {
        const query = trimmedInput.substring(8);
        await queryVectorStore(query);
        askQuestion();
        return;
      }

      print('red', '‚ùå Comando no reconocido. Usa /help para ver comandos disponibles.');
      askQuestion();
    });
  };

  askQuestion();
}

// Manejar salida
rl.on('close', () => {
  process.exit(0);
});

// Iniciar
startChat().catch(console.error); 
```
=== EOF: src\scripts\terminal-chat.js

===  src\scripts\package.json
```json
{
  "type": "commonjs"
} 
```
=== EOF: src\scripts\package.json

===  src\lib\vector-store.ts
```typescript
import OpenAI from 'openai';
import { findSessionByQuery } from './course-database';

// Configurar OpenAI
const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
});

// Funci√≥n para consultar el vector store de OpenAI usando el SDK oficial
export async function queryOpenAIVectorStore(
  query: string
): Promise<string> {
  try {
    // Buscar la sesi√≥n en la base de datos del curso
    const session = findSessionByQuery(query);
    
    if (!session) {
      return 'No se encontr√≥ ninguna sesi√≥n que coincida con tu consulta. Sesiones disponibles: sesion01 (IPERC), sesion02, sesion03 (Prevenci√≥n de Incendios).';
    }

    // Usar chat completions con informaci√≥n espec√≠fica del archivo
    const completion = await openai.chat.completions.create({
      model: "gpt-4.1-mini",
      messages: [
        {
          role: 'system',
          content: `Eres un asistente experto en SSO (Seguridad y Salud Ocupacional). 
          El usuario est√° consultando sobre: ${session.name}
          File ID: ${session.file_id}
          Archivo: ${session.file_name}
          
          IMPORTANTE: Responde bas√°ndote √öNICAMENTE en el contenido espec√≠fico de este archivo.
          Si la informaci√≥n no est√° en el archivo, ind√≠calo claramente.
          
          El archivo contiene informaci√≥n estructurada sobre capacitaci√≥n en SSO.`
        },
        {
          role: 'user',
          content: query
        }
      ],
      max_tokens: 1500,
      temperature: 0.3
    });

    return completion.choices[0]?.message?.content || 'No se pudo generar una respuesta.';
  } catch (error) {
    console.error('Error al consultar vector store de OpenAI:', error);
    return `Error al consultar el vector store de OpenAI: ${error instanceof Error ? error.message : 'Error desconocido'}`;
  }
} 
```
=== EOF: src\lib\vector-store.ts

===  src\lib\utils.ts
```typescript
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

export function formatDate(date: Date): string {
  return new Intl.DateTimeFormat("es-ES", {
    year: "numeric",
    month: "long",
    day: "numeric",
  }).format(date)
}

export function generateId(): string {
  return Math.random().toString(36).substring(2) + Date.now().toString(36)
} 
```
=== EOF: src\lib\utils.ts

===  src\lib\teaching-guide.ts
```typescript
import teachingGuide from '../data/teaching-guide.json';

export interface TeachingMoment {
  momento: string;
  titulo: string;
  descripcion: string;
  ejemplos: string[];
}

export interface TeachingGuide {
  rol_docente_ia: string;
  tipo_sesion: string;
  modalidad: string;
  momentos: TeachingMoment[];
}

// Cargar la gu√≠a de ense√±anza
export function getTeachingGuide(): TeachingGuide {
  return teachingGuide as TeachingGuide;
}

// Obtener un momento espec√≠fico
export function getTeachingMoment(momentoId: string): TeachingMoment | null {
  const guide = getTeachingGuide();
  return guide.momentos.find(m => m.momento === momentoId) || null;
}

// Obtener todos los momentos
export function getAllTeachingMoments(): TeachingMoment[] {
  const guide = getTeachingGuide();
  return guide.momentos;
}

// Generar prompt espec√≠fico para un momento
export function generateMomentPrompt(momentoId: string, sessionContent: string): string {
  const moment = getTeachingMoment(momentoId);
  if (!moment) {
    return `¬øQu√© dice el ${momentoId} del contenido ${sessionContent}?`;
  }

  const randomExample = moment.ejemplos[Math.floor(Math.random() * moment.ejemplos.length)];
  
  return `Act√∫a como un ${getTeachingGuide().rol_docente_ia} en modalidad ${getTeachingGuide().modalidad}.

${moment.titulo}: ${moment.descripcion}

Ejemplo de interacci√≥n: "${randomExample}"

Ahora, bas√°ndote en el contenido del ${momentoId} del archivo ${sessionContent}, desarrolla este momento de la clase de manera natural y pedag√≥gica. Incluye:
1. Una introducci√≥n al contenido espec√≠fico del momento
2. Preguntas interactivas basadas en el material
3. Ejemplos pr√°cticos relacionados
4. Verificaci√≥n de comprensi√≥n

Contenido a consultar: ¬øQu√© dice el ${momentoId} del contenido ${sessionContent}?`;
} 
```
=== EOF: src\lib\teaching-guide.ts

===  src\lib\openai.ts
```typescript
import OpenAI from 'openai';

// Configuraci√≥n de OpenAI
export const openai = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY || '',
  dangerouslyAllowBrowser: false, // Solo para servidor
});

// Tipos para las respuestas de OpenAI
export interface ChatMessage {
  role: 'user' | 'assistant' | 'system';
  content: string;
}

export interface ChatResponse {
  content: string;
  usage?: {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
  };
}

// Funci√≥n para enviar mensaje a ChatGPT
export async function sendChatMessage(
  messages: ChatMessage[],
  model: string = 'gpt-3.5-turbo'
): Promise<ChatResponse> {
  try {
    if (!process.env.OPENAI_API_KEY) {
      throw new Error('OPENAI_API_KEY no est√° configurada');
    }

    const completion = await openai.chat.completions.create({
      model,
      messages,
      max_tokens: 1000,
      temperature: 0.7,
    });

    const response = completion.choices[0]?.message?.content || '';
    
    return {
      content: response,
      usage: completion.usage ? {
        prompt_tokens: completion.usage.prompt_tokens,
        completion_tokens: completion.usage.completion_tokens,
        total_tokens: completion.usage.total_tokens,
      } : undefined,
    };
  } catch (error) {
    console.error('Error al comunicarse con OpenAI:', error);
    throw new Error('Error al procesar la solicitud');
  }
}

// Funci√≥n para generar texto con GPT
export async function generateText(
  prompt: string,
  model: string = 'gpt-3.5-turbo'
): Promise<string> {
  try {
    const completion = await openai.chat.completions.create({
      model,
      messages: [{ role: 'user', content: prompt }],
      max_tokens: 500,
      temperature: 0.7,
    });

    return completion.choices[0]?.message?.content || '';
  } catch (error) {
    console.error('Error al generar texto:', error);
    throw new Error('Error al generar texto');
  }
}

// Funci√≥n para analizar sentimientos
export async function analyzeSentiment(text: string): Promise<string> {
  try {
    const completion = await openai.chat.completions.create({
      model: 'gpt-3.5-turbo',
      messages: [
        {
          role: 'system',
          content: 'Analiza el sentimiento del siguiente texto y responde solo con: POSITIVO, NEGATIVO o NEUTRAL.'
        },
        {
          role: 'user',
          content: text
        }
      ],
      max_tokens: 10,
      temperature: 0.3,
    });

    return completion.choices[0]?.message?.content || 'NEUTRAL';
  } catch (error) {
    console.error('Error al analizar sentimiento:', error);
    return 'NEUTRAL';
  }
} 
```
=== EOF: src\lib\openai.ts

===  src\lib\course-database.ts
```typescript
import courseData from '../data/courses-database.json';

export interface Session {
  id: string;
  name: string;
  file_id: string;
  file_name: string;
}

export interface Course {
  id: string;
  name: string;
  description: string;
  sessions: Session[];
  metadata: {
    total_sessions: number;
    total_files: number;
    created_at: string;
    last_updated: string;
  };
}

export interface CourseDatabase {
  courses: Course[];
}

// Funci√≥n para buscar una sesi√≥n basada en la consulta
export function findSessionByQuery(query: string): Session | null {
  const queryLower = query.toLowerCase();
  
  // Buscar en todos los cursos
  for (const course of courseData.courses) {
    for (const session of course.sessions) {
      // Buscar por ID de sesi√≥n
      if (queryLower.includes(session.id.toLowerCase())) {
        return session;
      }
      
      // Buscar por nombre de sesi√≥n
      if (queryLower.includes(session.name.toLowerCase())) {
        return session;
      }
      
      // Buscar por nombre de archivo
      if (queryLower.includes(session.file_name.toLowerCase())) {
        return session;
      }
    }
  }
  
  return null;
}

// Funci√≥n para obtener todas las sesiones disponibles
export function getAllSessions(): Session[] {
  const sessions: Session[] = [];
  
  for (const course of courseData.courses) {
    sessions.push(...course.sessions);
  }
  
  return sessions;
}

// Funci√≥n para obtener informaci√≥n de una sesi√≥n espec√≠fica
export function getSessionInfo(sessionId: string): Session | null {
  for (const course of courseData.courses) {
    const session = course.sessions.find(s => s.id === sessionId);
    if (session) {
      return session;
    }
  }
  
  return null;
} 
```
=== EOF: src\lib\course-database.ts

===  src\lib\constants.ts
```typescript
export const APP_CONFIG = {
  name: "DocenteIA",
  version: "1.0.0",
  description: "Sistema estable con Next.js y TypeScript",
  author: "Tu Nombre",
  repository: "https://github.com/tu-usuario/docenteia",
} as const;

export const API_ENDPOINTS = {
  base: process.env.NEXT_PUBLIC_API_URL || "http://localhost:3000/api",
  auth: "/auth",
  users: "/users",
  courses: "/courses",
} as const;

export const ROUTES = {
  home: "/",
  about: "/about",
  contact: "/contact",
  dashboard: "/dashboard",
} as const;

export const BREAKPOINTS = {
  sm: 640,
  md: 768,
  lg: 1024,
  xl: 1280,
  "2xl": 1536,
} as const; 
```
=== EOF: src\lib\constants.ts

===  src\lib\config.ts
```typescript
export const config = {
  app: {
    name: process.env.NEXT_PUBLIC_APP_NAME || "DocenteIA",
    version: process.env.NEXT_PUBLIC_APP_VERSION || "1.0.0",
    description: "Sistema estable con Next.js y TypeScript",
  },
  api: {
    baseUrl: process.env.NEXT_PUBLIC_API_URL || "http://localhost:3000/api",
    timeout: 10000,
  },
  auth: {
    secret: process.env.NEXTAUTH_SECRET,
    url: process.env.NEXTAUTH_URL || "http://localhost:3000",
  },
  features: {
    analytics: process.env.NEXT_PUBLIC_GA_ID,
    darkMode: true,
    pwa: false,
  },
} as const;

export type Config = typeof config; 
```
=== EOF: src\lib\config.ts

===  src\data\teaching-guide.json
```json
{
  "rol_docente_ia": "Docente IA - Gu√≠a uno a uno",
  "tipo_sesion": "General para curso t√©cnico",
  "modalidad": "Virtual sincr√≥nica individual",
  "momentos": [
    {
      "momento": "MOMENTO_0",
      "titulo": "Saludo y Conexi√≥n Inicial",
      "descripcion": "Iniciar la sesi√≥n saludando al estudiante por su nombre, mostrando inter√©s genuino. Crear un ambiente de cercan√≠a para que se sienta c√≥modo. Presentar brevemente el prop√≥sito del encuentro.",
      "ejemplos": [
        "Hola [nombre], bienvenido. ¬øC√≥mo est√°s hoy? ¬øQu√© palabra usar√≠as para describir tu √°nimo?",
        "Hoy trabajaremos un contenido clave que puede ayudarte en tu formaci√≥n t√©cnica y profesional. ¬øListo para empezar?"
      ]
    },
    {
      "momento": "MOMENTO_1",
      "titulo": "Activaci√≥n con Historia o Caso",
      "descripcion": "Contar un caso breve o historia relacionada al tema para activar el pensamiento cr√≠tico del estudiante. Invitarlo a opinar con libertad, sin juicios, para establecer un v√≠nculo con lo que aprender√°.",
      "ejemplos": [
        "Te cuento algo: Un estudiante olvid√≥ revisar los materiales antes de una pr√°ctica y eso gener√≥ errores que pudieron evitarse. ¬øQu√© opinas de esa situaci√≥n?",
        "Imag√≠nate que alguien ejecuta una tarea sin revisar las instrucciones t√©cnicas. ¬øQu√© podr√≠a pasar en ese caso?"
      ]
    },
    {
      "momento": "MOMENTO_2",
      "titulo": "Adquisici√≥n de Conocimientos",
      "descripcion": "Explicar conceptos clave de forma clara y pausada. Despu√©s de cada explicaci√≥n, verificar comprensi√≥n solicitando un ejemplo o reformulaci√≥n. Adaptar el ritmo al estudiante.",
      "ejemplos": [
        "El concepto de 'protocolo' se refiere a un conjunto de pasos que se deben seguir. ¬øPuedes darme un ejemplo de protocolo en tu vida diaria?",
        "Cuando hablamos de 'riesgo', nos referimos a la posibilidad de que algo salga mal. ¬øD√≥nde podr√≠as identificar un riesgo en un contexto que conozcas?"
      ]
    },
    {
      "momento": "MOMENTO_3",
      "titulo": "Aplicaci√≥n Pr√°ctica",
      "descripcion": "Plantear una situaci√≥n realista relacionada al curso. Pedir al estudiante que act√∫e o analice, gui√°ndolo paso a paso. Observar c√≥mo razona, sin corregir de inmediato.",
      "ejemplos": [
        "Supongamos que est√°s por realizar una tarea t√©cnica en campo. ¬øQu√© pasos tomar√≠as antes de comenzar?",
        "Est√°s en una situaci√≥n donde debes organizar un procedimiento. ¬øC√≥mo te asegurar√≠as de que todo est√° listo?"
      ]
    },
    {
      "momento": "MOMENTO_4",
      "titulo": "Discusi√≥n y Contraste",
      "descripcion": "Presentar una soluci√≥n alternativa o modelo. Pedir al estudiante que compare con su propia propuesta. Guiar la reflexi√≥n para que reconozca aciertos y posibles mejoras.",
      "ejemplos": [
        "Mira este ejemplo que otros estudiantes han usado. ¬øQu√© diferencias ves con lo que t√∫ planteaste?",
        "¬øQu√© cambiar√≠as de tu respuesta ahora que viste otra forma de resolverlo?"
      ]
    },
    {
      "momento": "MOMENTO_5",
      "titulo": "Reflexi√≥n Final y Cierre",
      "descripcion": "Invitar al estudiante a reflexionar sobre c√≥mo aplicar√≠a lo aprendido en su realidad. Reforzar el aprendizaje con un cierre positivo y proyectar un posible refuerzo para la pr√≥xima sesi√≥n.",
      "ejemplos": [
        "¬øC√≥mo podr√≠as aplicar lo aprendido hoy en una situaci√≥n que te toque enfrentar esta semana?",
        "Hoy avanzaste bastante. ¬øQu√© parte te gustar√≠a reforzar o practicar m√°s en la siguiente clase?"
      ]
    }
  ]
} 
```
=== EOF: src\data\teaching-guide.json

===  src\data\courses-database.json
```json
{
  "courses": [
    {
      "id": "SSO001",
      "name": "Seguridad y Salud Ocupacional",
      "description": "Curso completo de SSO con m√∫ltiples sesiones de capacitaci√≥n",
      "sessions": [
        {
          "id": "sesion01",
          "name": "IPERC - Identificaci√≥n de Peligros, Evaluaci√≥n de Riesgos y Controles",
          "file_id": "file-J4of8sWdLfzv3vKza4A42h",
          "file_name": "contenido_sso_sesion01_MSEII.md"
        },
        {
          "id": "sesion02", 
          "name": "Sesi√≥n 02 de SSO",
          "file_id": "file-MLGFPC2nruo5t5jjC9En1a",
          "file_name": "contenido_sso_sesion02_MSEII.json"
        },
        {
          "id": "sesion03",
          "name": "Prevenci√≥n de Incendios en el Trabajo", 
          "file_id": "file-MPwrLaMwDkie5yQrymSRqo",
          "file_name": "contenido_sso_sesion03_MSEII.json"
        }
      ],
      "metadata": {
        "total_sessions": 3,
        "total_files": 3,
        "created_at": "2025-07-28",
        "last_updated": "2025-07-28"
      }
    }
  ]
} 
```
=== EOF: src\data\courses-database.json

===  src\components\ChatInterface.tsx
```tsx
'use client';

import React, { useState } from 'react';
import { Button } from '@/components/ui/Button';
import { ChatMessage } from '@/lib/openai';

interface Message {
  role: 'user' | 'assistant';
  content: string;
  timestamp: Date;
}

export function ChatInterface() {
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState('');
  const [isLoading, setIsLoading] = useState(false);

  const sendMessage = async () => {
    if (!input.trim() || isLoading) return;

    const userMessage: Message = {
      role: 'user',
      content: input,
      timestamp: new Date(),
    };

    setMessages(prev => [...prev, userMessage]);
    setInput('');
    setIsLoading(true);

    try {
      const chatMessages: ChatMessage[] = [
        ...messages.map(msg => ({
          role: msg.role,
          content: msg.content,
        })),
        { role: 'user', content: input },
      ];

      const response = await fetch('/api/chat', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          messages: chatMessages,
          model: 'gpt-3.5-turbo',
        }),
      });

      if (!response.ok) {
        throw new Error('Error en la respuesta del servidor');
      }

      const data = await response.json();
      
      const assistantMessage: Message = {
        role: 'assistant',
        content: data.content,
        timestamp: new Date(),
      };

      setMessages(prev => [...prev, assistantMessage]);
    } catch (error) {
      console.error('Error al enviar mensaje:', error);
      const errorMessage: Message = {
        role: 'assistant',
        content: 'Lo siento, hubo un error al procesar tu mensaje.',
        timestamp: new Date(),
      };
      setMessages(prev => [...prev, errorMessage]);
    } finally {
      setIsLoading(false);
    }
  };

  const handleKeyPress = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  };

  return (
    <div className="max-w-2xl mx-auto p-4">
      <div className="bg-white dark:bg-gray-800 rounded-lg shadow-lg">
        {/* Header */}
        <div className="border-b border-gray-200 dark:border-gray-700 p-4">
          <h2 className="text-lg font-semibold text-gray-900 dark:text-white">
            Chat con IA
          </h2>
          <p className="text-sm text-gray-600 dark:text-gray-400">
            Pregunta lo que quieras a la inteligencia artificial
          </p>
        </div>

        {/* Messages */}
        <div className="h-96 overflow-y-auto p-4 space-y-4">
          {messages.length === 0 && (
            <div className="text-center text-gray-500 dark:text-gray-400">
              <p>¬°Hola! Soy tu asistente de IA. ¬øEn qu√© puedo ayudarte?</p>
            </div>
          )}
          
          {messages.map((message, index) => (
            <div
              key={index}
              className={`flex ${
                message.role === 'user' ? 'justify-end' : 'justify-start'
              }`}
            >
              <div
                className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${
                  message.role === 'user'
                    ? 'bg-blue-600 text-white'
                    : 'bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white'
                }`}
              >
                <p className="text-sm">{message.content}</p>
                <p className="text-xs opacity-70 mt-1">
                  {message.timestamp.toLocaleTimeString()}
                </p>
              </div>
            </div>
          ))}
          
          {isLoading && (
            <div className="flex justify-start">
              <div className="bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-lg">
                <p className="text-sm text-gray-600 dark:text-gray-400">
                  Pensando...
                </p>
              </div>
            </div>
          )}
        </div>

        {/* Input */}
        <div className="border-t border-gray-200 dark:border-gray-700 p-4">
          <div className="flex space-x-2">
            <textarea
              value={input}
              onChange={(e) => setInput(e.target.value)}
              onKeyPress={handleKeyPress}
              placeholder="Escribe tu mensaje..."
              className="flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white resize-none"
              rows={2}
              disabled={isLoading}
            />
            <Button
              onClick={sendMessage}
              disabled={!input.trim() || isLoading}
              className="px-4 py-2"
            >
              {isLoading ? 'Enviando...' : 'Enviar'}
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
} 
```
=== EOF: src\components\ChatInterface.tsx

===  src\app\page.tsx
```tsx
import { Button } from "@/components/ui/Button";
import { formatDate } from "@/lib/utils";
import { ChatInterface } from "@/components/ChatInterface";

export default function Home() {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800">
      <div className="container mx-auto px-4 py-16">
        <div className="text-center mb-12">
          <h1 className="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-4">
            DocenteIA
          </h1>
          <p className="text-xl text-gray-600 dark:text-gray-300 mb-8">
            Sistema estable con Next.js, TypeScript e IA
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <Button size="lg" className="bg-blue-600 hover:bg-blue-700">
              Comenzar
            </Button>
            <Button variant="outline" size="lg">
              Documentaci√≥n
            </Button>
          </div>
        </div>

        <div className="grid md:grid-cols-3 gap-8 mt-16 mb-16">
          <div className="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 className="text-xl font-semibold mb-4 text-gray-900 dark:text-white">
              TypeScript Estricto
            </h3>
            <p className="text-gray-600 dark:text-gray-300">
              Configuraci√≥n robusta con verificaciones estrictas de tipos para mayor estabilidad.
            </p>
          </div>

          <div className="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 className="text-xl font-semibold mb-4 text-gray-900 dark:text-white">
              Next.js 14
            </h3>
            <p className="text-gray-600 dark:text-gray-300">
              La versi√≥n m√°s estable con App Router y optimizaciones avanzadas.
            </p>
          </div>

          <div className="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            <h3 className="text-xl font-semibold mb-4 text-gray-900 dark:text-white">
              OpenAI Integrado
            </h3>
            <p className="text-gray-600 dark:text-gray-300">
              Chat inteligente con GPT-3.5-turbo para asistencia autom√°tica.
            </p>
          </div>
        </div>

        {/* Chat Interface */}
        <div className="mt-16">
          <ChatInterface />
        </div>

        <div className="mt-12 text-center">
          <p className="text-sm text-gray-500 dark:text-gray-400">
            √öltima actualizaci√≥n: {formatDate(new Date())}
          </p>
        </div>
      </div>
    </div>
  );
}
```
=== EOF: src\app\page.tsx

===  src\app\layout.tsx
```tsx
import type { Metadata } from "next";
import "./globals.css";

export const metadata: Metadata = {
  title: "DocenteIA - Sistema Estable",
  description: "Sistema estable con Next.js y TypeScript",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className="antialiased">
        {children}
      </body>
    </html>
  );
}
```
=== EOF: src\app\layout.tsx

===  src\app\globals.css
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 3.9%;
  --primary: 0 0% 9%;
  --primary-foreground: 0 0% 98%;
  --secondary: 0 0% 96.1%;
  --secondary-foreground: 0 0% 9%;
  --muted: 0 0% 96.1%;
  --muted-foreground: 0 0% 45.1%;
  --accent: 0 0% 96.1%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 89.8%;
  --input: 0 0% 89.8%;
  --ring: 0 0% 3.9%;
  --radius: 0.5rem;
}

.dark {
  --background: 0 0% 3.9%;
  --foreground: 0 0% 98%;
  --card: 0 0% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 0 0% 9%;
  --secondary: 0 0% 14.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 14.9%;
  --muted-foreground: 0 0% 63.9%;
  --accent: 0 0% 14.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 14.9%;
  --input: 0 0% 14.9%;
  --ring: 0 0% 83.1%;
}

* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}
```
=== EOF: src\app\globals.css

===  src\components\ui\Button.tsx
```tsx
import React from "react";
import { cn } from "@/lib/utils";
import { cva, type VariantProps } from "class-variance-authority";

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "underline-offset-4 hover:underline text-primary",
      },
      size: {
        default: "h-10 py-2 px-4",
        sm: "h-9 px-3 rounded-md",
        lg: "h-11 px-8 rounded-md",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, ...props }, ref) => {
    return (
      <button
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    );
  }
);

Button.displayName = "Button";

export { Button, buttonVariants }; 
```
=== EOF: src\components\ui\Button.tsx

===  src\app\api\openai-vector\route.ts
```typescript
import { NextRequest, NextResponse } from 'next/server';
import { queryOpenAIVectorStore } from '../../../lib/vector-store';

export async function POST(request: NextRequest) {
  try {
    const { query } = await request.json();

    if (!query) {
      return NextResponse.json(
        { error: 'Query es requerida' },
        { status: 400 }
      );
    }

    const response = await queryOpenAIVectorStore(query);

    return NextResponse.json({ response });
  } catch (error) {
    console.error('Error en la ruta OpenAI vector:', error);
    return NextResponse.json(
      { error: 'Error interno del servidor' },
      { status: 500 }
    );
  }
} 
```
=== EOF: src\app\api\openai-vector\route.ts

===  src\app\api\chat\route.ts
```typescript
import { NextRequest, NextResponse } from 'next/server';
import { sendChatMessage, ChatMessage } from '@/lib/openai';

export async function POST(request: NextRequest) {
  try {
    const body = await request.json();
    const { messages, model = 'gpt-3.5-turbo' } = body;

    // Validar que se proporcionen mensajes
    if (!messages || !Array.isArray(messages)) {
      return NextResponse.json(
        { error: 'Se requieren mensajes v√°lidos' },
        { status: 400 }
      );
    }

    // Validar que cada mensaje tenga la estructura correcta
    const validMessages: ChatMessage[] = messages.map((msg: any) => ({
      role: msg.role,
      content: msg.content,
    }));

    // Enviar mensaje a OpenAI
    const response = await sendChatMessage(validMessages, model);

    return NextResponse.json(response);
  } catch (error) {
    console.error('Error en API chat:', error);
    return NextResponse.json(
      { error: 'Error interno del servidor' },
      { status: 500 }
    );
  }
} 
```
=== EOF: src\app\api\chat\route.ts

